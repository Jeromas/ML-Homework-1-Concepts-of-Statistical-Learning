<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alphonso J Saiewane">

<title>Home1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="1Homework_files/libs/clipboard/clipboard.min.js"></script>
<script src="1Homework_files/libs/quarto-html/quarto.js"></script>
<script src="1Homework_files/libs/quarto-html/popper.min.js"></script>
<script src="1Homework_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1Homework_files/libs/quarto-html/anchor.min.js"></script>
<link href="1Homework_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1Homework_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1Homework_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1Homework_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1Homework_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Home1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alphonso J Saiewane </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="q1" class="level2">
<h2 class="anchored" data-anchor-id="q1">Q1</h2>
<p>For each of parts (a) through (d), indicate whether we would generally expect the performan of a flexible statistical learning method to be better or worse than an inflexible method. Justify your answer.</p>
<section id="a-the-sample-size-n-is-extremely-large-and-the-number-of-predictors-p-is-small." class="level3">
<h3 class="anchored" data-anchor-id="a-the-sample-size-n-is-extremely-large-and-the-number-of-predictors-p-is-small.">(a) The sample size n is extremely large, and the number of predictors p is small.</h3>
<p><strong>Answer:</strong> A flexible statistical learning method is generally expected to perform <strong>better</strong> in this scenario. When the sample size n is extremely large, the model has sufficient data to accurately estimate the parameters, reducing the risk of overfitting.</p>
</section>
<section id="b-the-number-of-predictors-p-is-extremely-large-and-the-number-of-observations-n-is-small." class="level3">
<h3 class="anchored" data-anchor-id="b-the-number-of-predictors-p-is-extremely-large-and-the-number-of-observations-n-is-small.">(b) The number of predictors p is extremely large, and the number of observations n is small.</h3>
<p><strong>Answer:</strong> inflexible methods are generally expected to perform better. When p is large, and n is small, an <strong>inflexible model</strong> performs better because it reduces the risk of overfitting. Inflexible models, with fewer parameters, offer lower variance and more reliable predictions, even if they introduce some bias.</p>
</section>
<section id="c-the-relationship-between-the-predictors-and-response-is-highly-non-linear." class="level3">
<h3 class="anchored" data-anchor-id="c-the-relationship-between-the-predictors-and-response-is-highly-non-linear.">(c) The relationship between the predictors and response is highly non-linear.</h3>
<p><strong>Answer:</strong> a <strong>flexible statistical learning method</strong> is better because it allows you to use enough degrees of freedom to accurately model the complex, non-linear relationship.</p>
</section>
</section>
<section id="d-the-variance-of-the-error-terms-i.e.-σ2-varε-is-extremely-high." class="level2">
<h2 class="anchored" data-anchor-id="d-the-variance-of-the-error-terms-i.e.-σ2-varε-is-extremely-high.">(d) The variance of the error terms, i.e.&nbsp;σ2 = Var(ε), is extremely high.</h2>
<p><strong>Answer:</strong> When the variance of the error terms is extremely high, an <strong>inflexible statistical learning method</strong> is generally better because it produces lower variance in the predictions. Inflexible models are less likely to overfit the noisy data, resulting in more stable and reliable predictions, even if they might introduce some bias.</p>
</section>
<section id="q2" class="level2">
<h2 class="anchored" data-anchor-id="q2">Q2</h2>
<p>Explain whether each scenario is a classification or regression problem, and indicate whether we are most interested in inference or prediction. Finally, provide n and p, where n is the sample size and p is the number of independent variables.</p>
</section>
<section id="a.-we-collect-a-set-of-data-on-the-top-500-firms-in-the-us.-for-each-firm-we-record-profit-number-of-employees-industry-and-the-ceo-salary.-we-are-interested-in-understanding-which-factors-affect-ceo-salary." class="level2">
<h2 class="anchored" data-anchor-id="a.-we-collect-a-set-of-data-on-the-top-500-firms-in-the-us.-for-each-firm-we-record-profit-number-of-employees-industry-and-the-ceo-salary.-we-are-interested-in-understanding-which-factors-affect-ceo-salary.">(a). We collect a set of data on the top 500 firms in the US. For each firm we record profit, number of employees, industry and the CEO salary. We are interested in understanding which factors affect CEO salary.</h2>
<p><strong>Answer:</strong></p>
<ul>
<li><p><strong>Regression</strong> we’re analyzing how continuous variables (like CEO salary) relate to other variables (profit, number of employees, and industry).</p></li>
<li><p><strong>Inference</strong> the goal is to understand the relationships between the predictors and CEO salary, rather than just predicting salary.</p></li>
<li><p><strong>Sample Size (n)</strong>: 500 (since data is collected on 500 firms).</p></li>
<li><p><strong>Number of Independent Variables (p)</strong>: 3 (profit, number of employees, and industry).</p></li>
</ul>
</section>
<section id="b-we-are-considering-launching-a-new-product-and-wish-to-know-whether-it-will-be-a-success-or-a-failure.-we-collect-data-on-20-similar-products-that-were-previously-launched.-for-each-product-we-have-recorded-whether-it-was-a-success-or-failure-price-charged-for-the-product-marketing-budget-competition-price-and-ten-other-variables" class="level2">
<h2 class="anchored" data-anchor-id="b-we-are-considering-launching-a-new-product-and-wish-to-know-whether-it-will-be-a-success-or-a-failure.-we-collect-data-on-20-similar-products-that-were-previously-launched.-for-each-product-we-have-recorded-whether-it-was-a-success-or-failure-price-charged-for-the-product-marketing-budget-competition-price-and-ten-other-variables">(b) We are considering launching a new product and wish to know whether it will be a success or a failure. We collect data on 20 similar products that were previously launched. For each product we have recorded whether it was a success or failure, price charged for the product, marketing budget, competition price, and ten other variables</h2>
<p><strong>Answer:</strong></p>
<ul>
<li><p><strong>Classification</strong>: we’re determining a categorical outcome (success or failure).</p></li>
<li><p><strong>Prediction:</strong> <strong>Prediction</strong> because the goal is to predict whether the new product will succeed based on the available data.</p></li>
<li><p><strong>Sample Size (n)</strong>: 20 (as data is collected on 20 similar products).</p></li>
<li><p><strong>Number of Independent Variables (p)</strong>: 13 (which includes the price charged for the product, marketing budget, competition price, and ten other variables).</p></li>
</ul>
</section>
<section id="c-we-are-interested-in-predicting-the-change-in-the-us-dollar-in-relation-to-the-weekly-changes-in-the-world-stock-markets.-hence-we-collect-weekly-data-for-all-of-2012.-for-each-week-we-record-the-change-in-the-dollar-the-change-in-the-us-market-the-change-in-the-british-market-and-the-change-in-the-german-market." class="level2">
<h2 class="anchored" data-anchor-id="c-we-are-interested-in-predicting-the-change-in-the-us-dollar-in-relation-to-the-weekly-changes-in-the-world-stock-markets.-hence-we-collect-weekly-data-for-all-of-2012.-for-each-week-we-record-the-change-in-the-dollar-the-change-in-the-us-market-the-change-in-the-british-market-and-the-change-in-the-german-market.">(c) We are interested in predicting the % change in the US dollar in relation to the weekly changes in the world stock markets. Hence we collect weekly data for all of 2012. For each week we record the % change in the dollar, the % change in the US market, the % change in the British market, and the % change in the German market.</h2>
<p><strong>Answer:</strong></p>
<ul>
<li><p><strong>Type of Problem:</strong> <strong>Regression</strong> because we’re predicting a continuous outcome (the % change in the US dollar).</p></li>
<li><p><strong>Inference or Prediction:</strong> <strong>Prediction</strong> since the goal is to forecast the percentage change in the US dollar based on changes in the world stock markets.</p></li>
<li><p><strong>Sample Size (n)</strong>: 52 (weekly data collected for the year 2012).</p></li>
<li><p><strong>Number of Independent Variables (</strong>p): 3 (the % change in the US market, the % change in the British market, and the % change in the German market).</p></li>
</ul>
</section>
<section id="q3" class="level2">
<h2 class="anchored" data-anchor-id="q3">Q3</h2>
<p>You will now think of some real-life applications for statistical learning. In each example, describe the response and the predictors and state the goal- inference or prediction.</p>
</section>
<section id="a-describe-two-real-life-applications-in-which-classification-might-be-useful." class="level2">
<h2 class="anchored" data-anchor-id="a-describe-two-real-life-applications-in-which-classification-might-be-useful.">(a) Describe two real-life applications in which classification might be useful.</h2>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><strong>Loan Default Prediction:</strong></li>
</ol>
<ul>
<li><strong>Response:</strong> Loan default status (default or no default).<strong>Predictors:</strong> Credit score, income, loan amount, employment status, debt-to-income ratio.<strong>Goal:</strong> Predict default risk to help manage lending decisions and mitigate financial risk.</li>
</ul>
<ol start="2" type="1">
<li><strong>Image Recognition:</strong></li>
</ol>
<ul>
<li><strong>Response:</strong> The object identified in an image (categorical outcome: e.g., cat, dog, car, etc.). <strong>Predictors:</strong> Pixel values, color patterns, shapes, and textures within the image. <strong>Goal:</strong> <strong>Prediction</strong> – To classify images into categories based on their content, used in applications such as facial recognition and autonomous driving.</li>
</ul>
</section>
<section id="b-describe-two-real-life-applications-in-which-regression-might-be-useful." class="level2">
<h2 class="anchored" data-anchor-id="b-describe-two-real-life-applications-in-which-regression-might-be-useful.">(b) Describe two real-life applications in which regression might be useful.</h2>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><p><strong>Stock Price Prediction:</strong></p></li>
<li><p><strong>Response:</strong> Future stock price. <strong>Predictors:</strong> Historical prices, trading volume, economic indicators, earnings reports, interest rates. <strong>Goal:</strong> Predict future stock prices to guide investment decisions.</p></li>
</ol>
<!-- -->
<ol start="2" type="1">
<li><strong>Health Care Cost Estimation:</strong></li>
</ol>
<ul>
<li><strong>Response:</strong> Total medical costs. <strong>Predictors:</strong> Age, medical history, doctor visits, insurance type, treatment received.<strong>Goal:</strong> Predict healthcare costs to aid in budgeting and pricing.</li>
</ul>
</section>
<section id="q4" class="level2">
<h2 class="anchored" data-anchor-id="q4">Q4</h2>
<p>This exercise relates to the College data set from our textbook. It contains a number of variables for 777 different universities and colleges in the US. The variables are:</p>
<p><img src="Capture.png" class="img-fluid"></p>
</section>
<section id="a-read-the-data-into-r-for-example-directly-from-the-package-that-comes-with-our-book" class="level2">
<h2 class="anchored" data-anchor-id="a-read-the-data-into-r-for-example-directly-from-the-package-that-comes-with-our-book">(a) Read the data into R, for example, directly from the package that comes with our book:</h2>
<p>install.packages(“ISLR2”); library(ISLR2); attach(College);</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ISLR2' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(College)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="b-use-the-summary-function-to-produce-a-summary-of-all-the-variables-in-the-data-set." class="level2">
<h2 class="anchored" data-anchor-id="b-use-the-summary-function-to-produce-a-summary-of-all-the-variables-in-the-data-set.">(b) Use the summary function to produce a summary of all the variables in the data set.</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(College)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Private        Apps           Accept          Enroll       Top10perc    
 No :212   Min.   :   81   Min.   :   72   Min.   :  35   Min.   : 1.00  
 Yes:565   1st Qu.:  776   1st Qu.:  604   1st Qu.: 242   1st Qu.:15.00  
           Median : 1558   Median : 1110   Median : 434   Median :23.00  
           Mean   : 3002   Mean   : 2019   Mean   : 780   Mean   :27.56  
           3rd Qu.: 3624   3rd Qu.: 2424   3rd Qu.: 902   3rd Qu.:35.00  
           Max.   :48094   Max.   :26330   Max.   :6392   Max.   :96.00  
   Top25perc      F.Undergrad     P.Undergrad         Outstate    
 Min.   :  9.0   Min.   :  139   Min.   :    1.0   Min.   : 2340  
 1st Qu.: 41.0   1st Qu.:  992   1st Qu.:   95.0   1st Qu.: 7320  
 Median : 54.0   Median : 1707   Median :  353.0   Median : 9990  
 Mean   : 55.8   Mean   : 3700   Mean   :  855.3   Mean   :10441  
 3rd Qu.: 69.0   3rd Qu.: 4005   3rd Qu.:  967.0   3rd Qu.:12925  
 Max.   :100.0   Max.   :31643   Max.   :21836.0   Max.   :21700  
   Room.Board       Books           Personal         PhD        
 Min.   :1780   Min.   :  96.0   Min.   : 250   Min.   :  8.00  
 1st Qu.:3597   1st Qu.: 470.0   1st Qu.: 850   1st Qu.: 62.00  
 Median :4200   Median : 500.0   Median :1200   Median : 75.00  
 Mean   :4358   Mean   : 549.4   Mean   :1341   Mean   : 72.66  
 3rd Qu.:5050   3rd Qu.: 600.0   3rd Qu.:1700   3rd Qu.: 85.00  
 Max.   :8124   Max.   :2340.0   Max.   :6800   Max.   :103.00  
    Terminal       S.F.Ratio      perc.alumni        Expend     
 Min.   : 24.0   Min.   : 2.50   Min.   : 0.00   Min.   : 3186  
 1st Qu.: 71.0   1st Qu.:11.50   1st Qu.:13.00   1st Qu.: 6751  
 Median : 82.0   Median :13.60   Median :21.00   Median : 8377  
 Mean   : 79.7   Mean   :14.09   Mean   :22.74   Mean   : 9660  
 3rd Qu.: 92.0   3rd Qu.:16.50   3rd Qu.:31.00   3rd Qu.:10830  
 Max.   :100.0   Max.   :39.80   Max.   :64.00   Max.   :56233  
   Grad.Rate     
 Min.   : 10.00  
 1st Qu.: 53.00  
 Median : 65.00  
 Mean   : 65.46  
 3rd Qu.: 78.00  
 Max.   :118.00  </code></pre>
</div>
</div>
</section>
<section id="cuse-the-pairs-function-to-produce-a-scatterplot-matrix-of-the-first-ten-columns-or-variables-of-the-data.-recall-that-you-can-reference-the-first-ten-columns-of-a-matrix-a-using-a110" class="level2">
<h2 class="anchored" data-anchor-id="cuse-the-pairs-function-to-produce-a-scatterplot-matrix-of-the-first-ten-columns-or-variables-of-the-data.-recall-that-you-can-reference-the-first-ten-columns-of-a-matrix-a-using-a110">(c)Use the pairs() function to produce a scatterplot matrix of the first ten columns or variables of the data. Recall that you can reference the first ten columns of a matrix A using A[,1:10]</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(College[, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1Homework_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="d-use-the-plot-function-to-produce-side-by-side-boxplots-of-outstate-versus-private." class="level2">
<h2 class="anchored" data-anchor-id="d-use-the-plot-function-to-produce-side-by-side-boxplots-of-outstate-versus-private.">(d) Use the plot() function to produce side-by-side boxplots of Outstate versus Private.</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Private, Outstate,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Private College (Yes/No)"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Out-of-State Tuition"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="fu">c</span>(<span class="st">'blue'</span>, <span class="st">'lightgreen'</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Boxplot of Outstate Tuition by Private College Status"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1Homework_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="e-create-a-new-qualitative-variable-called-elite-by-binning-the-top10perc-variable.-we-are-going-to-divide-universities-into-two-groups-based-on-whether-or-not-the-proportion-of-students-coming-from-the-top-10-of-their-high-school-classes-exceeds-50" class="level2">
<h2 class="anchored" data-anchor-id="e-create-a-new-qualitative-variable-called-elite-by-binning-the-top10perc-variable.-we-are-going-to-divide-universities-into-two-groups-based-on-whether-or-not-the-proportion-of-students-coming-from-the-top-10-of-their-high-school-classes-exceeds-50">(e) Create a new qualitative variable, called Elite, by binning the Top10perc variable. We are going to divide universities into two groups based on whether or not the proportion of students coming from the top 10% of their high school classes exceeds 50%:</h2>
<p>Elite = rep(“No”,nrow(College)) Elite[College$Top10perc &gt; 50] = “Yes” Elite = as.factor(Elite) College = data.frame(College,Elite)</p>
<p>Use the summary() function to see how many elite universities there are. Now use the plot() function to produce side-by-side boxplots of Outstate versus Elite.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Elite <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"No"</span>, <span class="fu">nrow</span>(College))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>Elite[College<span class="sc">$</span>Top10perc <span class="sc">&gt;</span> <span class="dv">50</span>] <span class="ot">=</span> <span class="st">"Yes"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>Elite <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(Elite)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>College <span class="ot">=</span> <span class="fu">data.frame</span>(College, Elite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Use the summary() function to see how many elite universities there are</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(College<span class="sc">$</span>Elite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> No Yes 
699  78 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now use the plot() function to produce side-by-side boxplots of Outstate versus Elite.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(College<span class="sc">$</span>Elite, College<span class="sc">$</span>Outstate,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Elite University (Yes/No)"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Out-of-State Tuition"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Side-by-Side Boxplots"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">c</span>(<span class="st">'blue'</span>, <span class="st">'lightgreen'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1Homework_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Outstate <span class="sc">~</span> Elite, <span class="at">data =</span> College, <span class="at">col=</span><span class="fu">c</span>(<span class="st">'lightblue'</span>, <span class="st">'lightgreen'</span>), <span class="at">main =</span> <span class="st">"Side-by-Side Boxplots"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1Homework_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="use-the-hist-function-to-produce-some-histograms-with-differing-numbers-of-bins-for-a-few-of-the-quantitative-variables.-you-may-find-the-command-parmfrowc22-useful-it-will-divide-the-print-window-into-four-regions-so-that-four-plots-can-be-made-simultaneously.-modifying-the-arguments-to-this-function-will-divide-the-screen-in-other" class="level2">
<h2 class="anchored" data-anchor-id="use-the-hist-function-to-produce-some-histograms-with-differing-numbers-of-bins-for-a-few-of-the-quantitative-variables.-you-may-find-the-command-parmfrowc22-useful-it-will-divide-the-print-window-into-four-regions-so-that-four-plots-can-be-made-simultaneously.-modifying-the-arguments-to-this-function-will-divide-the-screen-in-other">Use the hist() function to produce some histograms with differing numbers of bins for a few of the quantitative variables. You may find the command par(mfrow=c(2,2)) useful: it will divide the print window into four regions so that four plots can be made simultaneously. Modifying the arguments to this function will divide the screen in other</h2>
<p>ways.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>),<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># six quantitative variables with different numbers of bins</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for Apps (Number of applications received) with 20 bins</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>Apps, <span class="at">main =</span> <span class="st">"Histogram of Applications (Apps)"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Number of Applications"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">20</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for Enroll (Number of students enrolled) with 15 bins</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>Enroll,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Histogram of Enrollments (Enroll)"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Number of Students Enrolled"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightgreen"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">15</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for Outstate (Out-of-state tuition) with 30 bins</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>Outstate,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Histogram of Out-of-State Tuition (Outstate)"</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Out-of-State Tuition"</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightcoral"</span>,</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">30</span>)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for PhD (Percentage of faculty with PhDs) with 25 bins</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>PhD,</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Histogram of Faculty PhD Percentage (PhD)"</span>,</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Percentage of Faculty with PhDs"</span>,</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightyellow"</span>,</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">25</span>)</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for Room.Board (Room and board costs) with 20 bins</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>Room.Board,</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Histogram of Room and Board Costs"</span>,</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Room and Board Costs"</span>,</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightpink"</span>,</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">20</span>)</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for Books (Book costs) with 15 bins</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(College<span class="sc">$</span>Books,</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Histogram of Book Costs"</span>,</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Book Costs"</span>,</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightcyan"</span>,</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1Homework_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="g-use-the-lm-function-to-find-a-regression-equation-predicting-the-number-of-new-students" class="level2">
<h2 class="anchored" data-anchor-id="g-use-the-lm-function-to-find-a-regression-equation-predicting-the-number-of-new-students">(g) Use the lm function to find a regression equation predicting the number of new students</h2>
<p>based on the graduation rate, qualifications of the faculty, and various expenses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   linear regression model</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(Enroll <span class="sc">~</span> Grad.Rate <span class="sc">+</span> Top10perc <span class="sc">+</span> Expend <span class="sc">+</span> Room.Board <span class="sc">+</span> Books <span class="sc">+</span> Personal, <span class="at">data =</span> College)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># summary of the regression model</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Enroll ~ Grad.Rate + Top10perc + Expend + Room.Board + 
    Books + Personal, data = College)

Residuals:
    Min      1Q  Median      3Q     Max 
-2066.8  -476.5  -209.2   168.1  5751.8 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 172.429723 200.730695   0.859    0.391    
Grad.Rate    -2.421653   2.248808  -1.077    0.282    
Top10perc    14.706303   2.522687   5.830 8.17e-09 ***
Expend       -0.010197   0.008567  -1.190    0.234    
Room.Board   -0.040202   0.034870  -1.153    0.249    
Books         0.243699   0.195983   1.243    0.214    
Personal      0.373399   0.049183   7.592 9.13e-14 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 869.5 on 770 degrees of freedom
Multiple R-squared:  0.1312,    Adjusted R-squared:  0.1244 
F-statistic: 19.37 on 6 and 770 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>